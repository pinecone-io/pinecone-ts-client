'use strict';
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
  var exports = {};
  exports.id = 'pages/api/createAndUpsert';
  exports.ids = ['pages/api/createAndUpsert'];
  exports.modules = {
    /***/ '@pinecone-database/pinecone':
      /*!**********************************************!*\
  !*** external "@pinecone-database/pinecone" ***!
  \**********************************************/
      /***/ (module) => {
        module.exports = require('@pinecone-database/pinecone');

        /***/
      },

    /***/ 'next/dist/compiled/next-server/pages-api.runtime.dev.js':
      /*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
      /***/ (module) => {
        module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js');

        /***/
      },

    /***/ '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FcreateAndUpsert&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FcreateAndUpsert.ts&middlewareConfigBase64=e30%3D!':
      /*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FcreateAndUpsert&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FcreateAndUpsert.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ "(api)/./node_modules/next/dist/server/future/route-kind.js");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ "(api)/./node_modules/next/dist/build/templates/helpers.js");\n/* harmony import */ var _pages_api_createAndUpsert_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/createAndUpsert.ts */ "(api)/./pages/api/createAndUpsert.ts");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_createAndUpsert_ts__WEBPACK_IMPORTED_MODULE_3__, "default"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_createAndUpsert_ts__WEBPACK_IMPORTED_MODULE_3__, "config");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: "/api/createAndUpsert",\n        pathname: "/api/createAndUpsert",\n        // The following aren\'t used in production.\n        bundlePath: "",\n        filename: ""\n    },\n    userland: _pages_api_createAndUpsert_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNyZWF0ZUFuZFVwc2VydCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGY3JlYXRlQW5kVXBzZXJ0LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluaW1hbC1waW5lY29uZS1hcHAvPzI3YzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9jcmVhdGVBbmRVcHNlcnQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jcmVhdGVBbmRVcHNlcnRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jcmVhdGVBbmRVcHNlcnRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FcreateAndUpsert&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FcreateAndUpsert.ts&middlewareConfigBase64=e30%3D!\n'
        );

        /***/
      },

    /***/ '(api)/./helpers/helpers.ts':
      /*!****************************!*\
  !*** ./helpers/helpers.ts ***!
  \****************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INDEX_NAME: () => (/* binding */ INDEX_NAME),\n/* harmony export */   assertWithRetries: () => (/* binding */ assertWithRetries),\n/* harmony export */   generateMetadata: () => (/* binding */ generateMetadata),\n/* harmony export */   generateRecords: () => (/* binding */ generateRecords),\n/* harmony export */   generateSparseValues: () => (/* binding */ generateSparseValues),\n/* harmony export */   randomIndexName: () => (/* binding */ randomIndexName),\n/* harmony export */   randomString: () => (/* binding */ randomString),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   waitUntilReady: () => (/* binding */ waitUntilReady),\n/* harmony export */   waitUntilRecordsReady: () => (/* binding */ waitUntilRecordsReady)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ "@pinecone-database/pinecone");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__);\n\nconst metadataMap = {\n    genre: [\n        "action",\n        "comedy",\n        "drama",\n        "horror",\n        "romance",\n        "thriller"\n    ],\n    year: [\n        2010,\n        2011,\n        2012,\n        2013,\n        2014,\n        2015\n    ]\n};\nconst metadataKeys = Object.keys(metadataMap);\nconst INDEX_NAME = "ts-integration";\nconst randomString = (length)=>{\n    const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n    let result = "";\n    for(let i = 0; i < length; i++){\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n    }\n    return result;\n};\nconst generateRecords = ({ dimension = 5, quantity = 3, prefix = null, withSparseValues = false, withMetadata = false })=>{\n    const records = [];\n    for(let i = 0; i < quantity; i++){\n        const values = [];\n        for(let j = 0; j < dimension; j++){\n            values.push(parseFloat(Math.random().toFixed(5)));\n        }\n        const id = prefix === null ? i.toString() : `${prefix}-${i}`;\n        let vector = {\n            id,\n            values\n        };\n        if (withSparseValues) {\n            vector = {\n                ...vector,\n                sparseValues: generateSparseValues(dimension)\n            };\n        }\n        if (withMetadata) {\n            vector = {\n                ...vector,\n                metadata: generateMetadata()\n            };\n        }\n        records.push(vector);\n    }\n    return records;\n};\nconst generateSparseValues = (dimension)=>{\n    const values = [];\n    const indices = [];\n    for(let j = 0; j < dimension; j++){\n        values.push(Math.random());\n        indices.push(j);\n    }\n    const sparseValues = {\n        indices,\n        values\n    };\n    return sparseValues;\n};\nconst generateMetadata = ()=>{\n    const metaKey = metadataKeys[Math.floor(Math.random() * metadataKeys.length)];\n    const metaValue = metadataMap[metaKey][Math.floor(Math.random() * metadataMap[metaKey].length)];\n    return {\n        [metaKey]: metaValue\n    };\n};\nconst randomIndexName = (testName)=>{\n    return `end-to-end-edge-${testName}-${randomString(8)}`.toLowerCase().slice(0, 45);\n};\nconst sleep = async (ms)=>{\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n};\nconst waitUntilReady = async (indexName)=>{\n    const p = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone();\n    const sleepIntervalMs = 1000;\n    let description = await p.describeIndex(indexName);\n    while(description.status?.state !== "Ready"){\n        await sleep(sleepIntervalMs);\n        description = await p.describeIndex(indexName);\n    }\n};\nconst waitUntilRecordsReady = async (index, namespace, recordIds)=>{\n    const sleepIntervalMs = 3000;\n    let indexStats = await index.describeIndexStats();\n    while(indexStats.namespaces && !indexStats.namespaces[namespace] && indexStats.namespaces[namespace]?.recordCount !== recordIds.length){\n        await sleep(sleepIntervalMs);\n        indexStats = await index.describeIndexStats();\n    }\n    // Sleeping one final time before returning for a bit more breathing room for freshness\n    await sleep(sleepIntervalMs);\n    return indexStats;\n};\nconst assertWithRetries = async (asyncFn, assertionsFn, maxRetries = 5, delay = 3000)=>{\n    let attempts = 0;\n    while(attempts < maxRetries){\n        try {\n            const result = await asyncFn();\n            assertionsFn(result);\n            return;\n        } catch (error) {\n            attempts++;\n            if (attempts <= maxRetries) {\n                await sleep(delay);\n                // Double the delay for exponential backoff\n                delay *= 2;\n            } else {\n                throw error;\n            }\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2hlbHBlcnMudHM/ZTEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIEluZGV4U3RhdHNEZXNjcmlwdGlvbixcbiAgUGluZWNvbmVSZWNvcmQsXG4gIFJlY29yZFNwYXJzZVZhbHVlcyxcbiAgUmVjb3JkTWV0YWRhdGEsXG59IGZyb20gJ0BwaW5lY29uZS1kYXRhYmFzZS9waW5lY29uZSc7XG5pbXBvcnQgeyBQaW5lY29uZSwgSW5kZXggfSBmcm9tICdAcGluZWNvbmUtZGF0YWJhc2UvcGluZWNvbmUnO1xuXG5jb25zdCBtZXRhZGF0YU1hcCA9IHtcbiAgZ2VucmU6IFsnYWN0aW9uJywgJ2NvbWVkeScsICdkcmFtYScsICdob3Jyb3InLCAncm9tYW5jZScsICd0aHJpbGxlciddLFxuICB5ZWFyOiBbMjAxMCwgMjAxMSwgMjAxMiwgMjAxMywgMjAxNCwgMjAxNV0sXG59O1xuY29uc3QgbWV0YWRhdGFLZXlzID0gT2JqZWN0LmtleXMobWV0YWRhdGFNYXApO1xuXG5leHBvcnQgY29uc3QgSU5ERVhfTkFNRSA9ICd0cy1pbnRlZ3JhdGlvbic7XG5cbmV4cG9ydCBjb25zdCByYW5kb21TdHJpbmcgPSAobGVuZ3RoKSA9PiB7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPVxuICAgICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gIGxldCByZXN1bHQgPSAnJztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzLmxlbmd0aCk7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KHJhbmRvbUluZGV4KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVSZWNvcmRzID0gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb24gPSA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5ID0gMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhTcGFyc2VWYWx1ZXMgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoTWV0YWRhdGEgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfToge1xuICBkaW1lbnNpb24/OiBudW1iZXI7XG4gIHF1YW50aXR5PzogbnVtYmVyO1xuICBwcmVmaXg/OiBzdHJpbmcgfCBudWxsO1xuICB3aXRoU3BhcnNlVmFsdWVzPzogYm9vbGVhbjtcbiAgd2l0aE1ldGFkYXRhPzogYm9vbGVhbjtcbn0pOiBQaW5lY29uZVJlY29yZFtdID0+IHtcbiAgY29uc3QgcmVjb3JkczogUGluZWNvbmVSZWNvcmRbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHF1YW50aXR5OyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaW1lbnNpb247IGorKykge1xuICAgICAgdmFsdWVzLnB1c2gocGFyc2VGbG9hdChNYXRoLnJhbmRvbSgpLnRvRml4ZWQoNSkpKTtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBwcmVmaXggPT09IG51bGwgPyBpLnRvU3RyaW5nKCkgOiBgJHtwcmVmaXh9LSR7aX1gO1xuXG4gICAgbGV0IHZlY3RvcjogUGluZWNvbmVSZWNvcmQgPSB7XG4gICAgICBpZCxcbiAgICAgIHZhbHVlcyxcbiAgICB9O1xuICAgIGlmICh3aXRoU3BhcnNlVmFsdWVzKSB7XG4gICAgICB2ZWN0b3IgPSB7XG4gICAgICAgIC4uLnZlY3RvcixcbiAgICAgICAgc3BhcnNlVmFsdWVzOiBnZW5lcmF0ZVNwYXJzZVZhbHVlcyhkaW1lbnNpb24pLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdpdGhNZXRhZGF0YSkge1xuICAgICAgdmVjdG9yID0ge1xuICAgICAgICAuLi52ZWN0b3IsXG4gICAgICAgIG1ldGFkYXRhOiBnZW5lcmF0ZU1ldGFkYXRhKCksXG4gICAgICB9O1xuICAgIH1cbiAgICByZWNvcmRzLnB1c2godmVjdG9yKTtcbiAgfVxuICByZXR1cm4gcmVjb3Jkcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNwYXJzZVZhbHVlcyA9IChkaW1lbnNpb246IG51bWJlcik6IFJlY29yZFNwYXJzZVZhbHVlcyA9PiB7XG4gIGNvbnN0IHZhbHVlczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgaW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkaW1lbnNpb247IGorKykge1xuICAgIHZhbHVlcy5wdXNoKE1hdGgucmFuZG9tKCkpO1xuICAgIGluZGljZXMucHVzaChqKTtcbiAgfVxuICBjb25zdCBzcGFyc2VWYWx1ZXM6IFJlY29yZFNwYXJzZVZhbHVlcyA9IHsgaW5kaWNlcywgdmFsdWVzIH07XG4gIHJldHVybiBzcGFyc2VWYWx1ZXM7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNZXRhZGF0YSA9ICgpOiBSZWNvcmRNZXRhZGF0YSA9PiB7XG4gIGNvbnN0IG1ldGFLZXkgPSBtZXRhZGF0YUtleXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWV0YWRhdGFLZXlzLmxlbmd0aCldO1xuICBjb25zdCBtZXRhVmFsdWUgPVxuICAgIG1ldGFkYXRhTWFwW21ldGFLZXldW1xuICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWV0YWRhdGFNYXBbbWV0YUtleV0ubGVuZ3RoKVxuICAgICAgXTtcbiAgcmV0dXJuIHsgW21ldGFLZXldOiBtZXRhVmFsdWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByYW5kb21JbmRleE5hbWUgPSAodGVzdE5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgZW5kLXRvLWVuZC1lZGdlLSR7dGVzdE5hbWV9LSR7cmFuZG9tU3RyaW5nKDgpfWBcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5zbGljZSgwLCA0NSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2xlZXAgPSBhc3luYyAobXMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgd2FpdFVudGlsUmVhZHkgPSBhc3luYyAoaW5kZXhOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcCA9IG5ldyBQaW5lY29uZSgpO1xuICBjb25zdCBzbGVlcEludGVydmFsTXMgPSAxMDAwO1xuXG4gIGxldCBkZXNjcmlwdGlvbiA9IGF3YWl0IHAuZGVzY3JpYmVJbmRleChpbmRleE5hbWUpO1xuICB3aGlsZSAoZGVzY3JpcHRpb24uc3RhdHVzPy5zdGF0ZSAhPT0gJ1JlYWR5Jykge1xuICAgIGF3YWl0IHNsZWVwKHNsZWVwSW50ZXJ2YWxNcyk7XG4gICAgZGVzY3JpcHRpb24gPSBhd2FpdCBwLmRlc2NyaWJlSW5kZXgoaW5kZXhOYW1lKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHdhaXRVbnRpbFJlY29yZHNSZWFkeSA9IGFzeW5jIChcbiAgaW5kZXg6IEluZGV4LFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgcmVjb3JkSWRzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxJbmRleFN0YXRzRGVzY3JpcHRpb24+ID0+IHtcbiAgY29uc3Qgc2xlZXBJbnRlcnZhbE1zID0gMzAwMDtcbiAgbGV0IGluZGV4U3RhdHMgPSBhd2FpdCBpbmRleC5kZXNjcmliZUluZGV4U3RhdHMoKTtcblxuICB3aGlsZSAoXG4gICAgaW5kZXhTdGF0cy5uYW1lc3BhY2VzICYmXG4gICAgIWluZGV4U3RhdHMubmFtZXNwYWNlc1tuYW1lc3BhY2VdICYmXG4gICAgaW5kZXhTdGF0cy5uYW1lc3BhY2VzW25hbWVzcGFjZV0/LnJlY29yZENvdW50ICE9PSByZWNvcmRJZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbE1zKTtcbiAgICBpbmRleFN0YXRzID0gYXdhaXQgaW5kZXguZGVzY3JpYmVJbmRleFN0YXRzKCk7XG4gIH1cblxuICAvLyBTbGVlcGluZyBvbmUgZmluYWwgdGltZSBiZWZvcmUgcmV0dXJuaW5nIGZvciBhIGJpdCBtb3JlIGJyZWF0aGluZyByb29tIGZvciBmcmVzaG5lc3NcbiAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbE1zKTtcblxuICByZXR1cm4gaW5kZXhTdGF0cztcbn07XG5cbnR5cGUgQXNzZXJ0aW9ucyA9IChyZXN1bHQ6IGFueSkgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IGFzc2VydFdpdGhSZXRyaWVzID0gYXN5bmMgKFxuICBhc3luY0ZuOiAoKSA9PiBQcm9taXNlPGFueT4sXG4gIGFzc2VydGlvbnNGbjogQXNzZXJ0aW9ucyxcbiAgbWF4UmV0cmllczogbnVtYmVyID0gNSxcbiAgZGVsYXk6IG51bWJlciA9IDMwMDBcbikgPT4ge1xuICBsZXQgYXR0ZW1wdHMgPSAwO1xuXG4gIHdoaWxlIChhdHRlbXB0cyA8IG1heFJldHJpZXMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXN5bmNGbigpO1xuICAgICAgYXNzZXJ0aW9uc0ZuKHJlc3VsdCk7XG4gICAgICByZXR1cm47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF0dGVtcHRzKys7XG4gICAgICBpZiAoYXR0ZW1wdHMgPD0gbWF4UmV0cmllcykge1xuICAgICAgICBhd2FpdCBzbGVlcChkZWxheSk7XG4gICAgICAgIC8vIERvdWJsZSB0aGUgZGVsYXkgZm9yIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgICAgZGVsYXkgKj0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJQaW5lY29uZSIsIm1ldGFkYXRhTWFwIiwiZ2VucmUiLCJ5ZWFyIiwibWV0YWRhdGFLZXlzIiwiT2JqZWN0Iiwia2V5cyIsIklOREVYX05BTUUiLCJyYW5kb21TdHJpbmciLCJsZW5ndGgiLCJjaGFyYWN0ZXJzIiwicmVzdWx0IiwiaSIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0IiwiZ2VuZXJhdGVSZWNvcmRzIiwiZGltZW5zaW9uIiwicXVhbnRpdHkiLCJwcmVmaXgiLCJ3aXRoU3BhcnNlVmFsdWVzIiwid2l0aE1ldGFkYXRhIiwicmVjb3JkcyIsInZhbHVlcyIsImoiLCJwdXNoIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJpZCIsInRvU3RyaW5nIiwidmVjdG9yIiwic3BhcnNlVmFsdWVzIiwiZ2VuZXJhdGVTcGFyc2VWYWx1ZXMiLCJtZXRhZGF0YSIsImdlbmVyYXRlTWV0YWRhdGEiLCJpbmRpY2VzIiwibWV0YUtleSIsIm1ldGFWYWx1ZSIsInJhbmRvbUluZGV4TmFtZSIsInRlc3ROYW1lIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ3YWl0VW50aWxSZWFkeSIsImluZGV4TmFtZSIsInAiLCJzbGVlcEludGVydmFsTXMiLCJkZXNjcmlwdGlvbiIsImRlc2NyaWJlSW5kZXgiLCJzdGF0dXMiLCJzdGF0ZSIsIndhaXRVbnRpbFJlY29yZHNSZWFkeSIsImluZGV4IiwibmFtZXNwYWNlIiwicmVjb3JkSWRzIiwiaW5kZXhTdGF0cyIsImRlc2NyaWJlSW5kZXhTdGF0cyIsIm5hbWVzcGFjZXMiLCJyZWNvcmRDb3VudCIsImFzc2VydFdpdGhSZXRyaWVzIiwiYXN5bmNGbiIsImFzc2VydGlvbnNGbiIsIm1heFJldHJpZXMiLCJkZWxheSIsImF0dGVtcHRzIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/helpers.ts\n'
        );

        /***/
      },

    /***/ '(api)/./pages/api/createAndUpsert.ts':
      /*!**************************************!*\
  !*** ./pages/api/createAndUpsert.ts ***!
  \**************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ "@pinecone-database/pinecone");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/helpers */ "(api)/./helpers/helpers.ts");\n\n\nasync function handler(req, res) {\n    try {\n        // Initialize client\n        if (!process.env.PINECONE_API_KEY) {\n            throw new Error("Pinecone API needed");\n        }\n        const apiKey = process.env.PINECONE_API_KEY;\n        const pc = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone({\n            apiKey: apiKey\n        });\n        const serverlessIndexName = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.randomIndexName)("createServerlessIndex");\n        const podIndexName = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.randomIndexName)("createPodIndex");\n        // Create indexes\n        await pc.createIndex({\n            name: serverlessIndexName,\n            dimension: 2,\n            metric: "cosine",\n            spec: {\n                serverless: {\n                    cloud: "aws",\n                    region: "us-west-2"\n                }\n            },\n            waitUntilReady: true\n        });\n        await pc.createIndex({\n            name: podIndexName,\n            dimension: 2,\n            metric: "cosine",\n            spec: {\n                pod: {\n                    environment: "us-west4-gcp",\n                    podType: "p2.x1"\n                }\n            },\n            waitUntilReady: true\n        });\n        // Upsert records\n        const records = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.generateRecords)({\n            dimension: 2,\n            quantity: 3,\n            prefix: "prefix",\n            withSparseValues: true,\n            withMetadata: true\n        });\n        await pc.Index(serverlessIndexName).upsert(records);\n        await pc.Index(podIndexName).upsert(records);\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.waitUntilReady)(serverlessIndexName);\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.waitUntilReady)(podIndexName);\n        // Query indexes by vector values indexes\n        const queryResultServerless = await pc.Index(serverlessIndexName).query({\n            topK: 1,\n            vector: [\n                0.236,\n                0.971\n            ]\n        });\n        const queryResultPod = await pc.Index(podIndexName).query({\n            topK: 1,\n            vector: [\n                0.236,\n                0.971\n            ]\n        });\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.sleep)(5000);\n        res.status(200).json(queryResultServerless);\n    } catch (error) {\n        res.status(500).json(error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY3JlYXRlQW5kVXBzZXJ0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDdUQ7QUFDeUM7QUFFakYsZUFBZUssUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFvQjtJQUVwQixJQUFJO1FBQ0Ysb0JBQW9CO1FBQ3BCLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxnQkFBZ0IsRUFBRTtZQUNqQyxNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFDQSxNQUFNQyxTQUFTSixRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtRQUMzQyxNQUFNRyxLQUFLLElBQUliLGlFQUFRQSxDQUFDO1lBQUVZLFFBQVFBO1FBQU87UUFDekMsTUFBTUUsc0JBQXNCWixpRUFBZUEsQ0FBQztRQUM1QyxNQUFNYSxlQUFlYixpRUFBZUEsQ0FBQztRQUVyQyxpQkFBaUI7UUFDakIsTUFBTVcsR0FBR0csV0FBVyxDQUFDO1lBQ2pCQyxNQUFNSDtZQUNOSSxXQUFXO1lBQ1hDLFFBQVE7WUFDUkMsTUFBTTtnQkFDRkMsWUFBWTtvQkFDUkMsT0FBTztvQkFDUEMsUUFBUTtnQkFDWjtZQUNKO1lBQ0ZuQixnQkFBZ0I7UUFDbEI7UUFDQSxNQUFNUyxHQUFHRyxXQUFXLENBQUM7WUFDakJDLE1BQU1GO1lBQ05HLFdBQVc7WUFDWEMsUUFBUTtZQUNSQyxNQUFNO2dCQUNGSSxLQUFLO29CQUNEQyxhQUFhO29CQUNiQyxTQUFTO2dCQUNiO1lBQ0o7WUFDRnRCLGdCQUFnQjtRQUNsQjtRQUVBLGlCQUFpQjtRQUNqQixNQUFNdUIsVUFBVTFCLGlFQUFlQSxDQUFDO1lBQUVpQixXQUFXO1lBQUdVLFVBQVU7WUFBR0MsUUFBUTtZQUFVQyxrQkFBa0I7WUFBTUMsY0FBYztRQUFLO1FBQzFILE1BQU1sQixHQUFHbUIsS0FBSyxDQUFDbEIscUJBQXFCbUIsTUFBTSxDQUFDTjtRQUMzQyxNQUFNZCxHQUFHbUIsS0FBSyxDQUFDakIsY0FBY2tCLE1BQU0sQ0FBQ047UUFFcEMsTUFBTXZCLGdFQUFjQSxDQUFDVTtRQUNyQixNQUFNVixnRUFBY0EsQ0FBQ1c7UUFFckIseUNBQXlDO1FBQ3pDLE1BQU1tQix3QkFBd0IsTUFBTXJCLEdBQUdtQixLQUFLLENBQUNsQixxQkFBcUJxQixLQUFLLENBQUM7WUFBRUMsTUFBTTtZQUFHQyxRQUFRO2dCQUFDO2dCQUFPO2FBQU07UUFBQztRQUMxRyxNQUFNQyxpQkFBaUIsTUFBTXpCLEdBQUdtQixLQUFLLENBQUNqQixjQUFjb0IsS0FBSyxDQUFDO1lBQUVDLE1BQU07WUFBR0MsUUFBUTtnQkFBQztnQkFBTzthQUFNO1FBQUM7UUFFNUYsTUFBTWxDLHVEQUFLQSxDQUFDO1FBRVpJLElBQUlnQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDTjtJQUV2QixFQUFFLE9BQU9PLE9BQU87UUFDZGxDLElBQUlnQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDQztJQUN2QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluaW1hbC1waW5lY29uZS1hcHAvLi9wYWdlcy9hcGkvY3JlYXRlQW5kVXBzZXJ0LnRzP2Y4OTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBQaW5lY29uZSB9IGZyb20gJ0BwaW5lY29uZS1kYXRhYmFzZS9waW5lY29uZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVJlY29yZHMsIHJhbmRvbUluZGV4TmFtZSwgc2xlZXAsIHdhaXRVbnRpbFJlYWR5IH0gZnJvbSAnLi4vLi4vaGVscGVycy9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICB0cnkge1xuICAgIC8vIEluaXRpYWxpemUgY2xpZW50XG4gICAgaWYgKCFwcm9jZXNzLmVudi5QSU5FQ09ORV9BUElfS0VZKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmVjb25lIEFQSSBuZWVkZWQnKTtcbiAgICB9XG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuUElORUNPTkVfQVBJX0tFWTtcbiAgICBjb25zdCBwYyA9IG5ldyBQaW5lY29uZSh7IGFwaUtleTogYXBpS2V5IH0pO1xuICAgIGNvbnN0IHNlcnZlcmxlc3NJbmRleE5hbWUgPSByYW5kb21JbmRleE5hbWUoJ2NyZWF0ZVNlcnZlcmxlc3NJbmRleCcpO1xuICAgIGNvbnN0IHBvZEluZGV4TmFtZSA9IHJhbmRvbUluZGV4TmFtZSgnY3JlYXRlUG9kSW5kZXgnKTtcblxuICAgIC8vIENyZWF0ZSBpbmRleGVzXG4gICAgYXdhaXQgcGMuY3JlYXRlSW5kZXgoe1xuICAgICAgICBuYW1lOiBzZXJ2ZXJsZXNzSW5kZXhOYW1lLFxuICAgICAgICBkaW1lbnNpb246IDIsXG4gICAgICAgIG1ldHJpYzogJ2Nvc2luZScsXG4gICAgICAgIHNwZWM6IHtcbiAgICAgICAgICAgIHNlcnZlcmxlc3M6IHtcbiAgICAgICAgICAgICAgICBjbG91ZDogJ2F3cycsXG4gICAgICAgICAgICAgICAgcmVnaW9uOiAndXMtd2VzdC0yJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB3YWl0VW50aWxSZWFkeTogdHJ1ZSxcbiAgICB9KTtcbiAgICBhd2FpdCBwYy5jcmVhdGVJbmRleCh7XG4gICAgICAgIG5hbWU6IHBvZEluZGV4TmFtZSxcbiAgICAgICAgZGltZW5zaW9uOiAyLFxuICAgICAgICBtZXRyaWM6ICdjb3NpbmUnLFxuICAgICAgICBzcGVjOiB7XG4gICAgICAgICAgICBwb2Q6IHtcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudDogJ3VzLXdlc3Q0LWdjcCcsXG4gICAgICAgICAgICAgICAgcG9kVHlwZTogJ3AyLngxJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB3YWl0VW50aWxSZWFkeTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIC8vIFVwc2VydCByZWNvcmRzXG4gICAgY29uc3QgcmVjb3JkcyA9IGdlbmVyYXRlUmVjb3Jkcyh7IGRpbWVuc2lvbjogMiwgcXVhbnRpdHk6IDMsIHByZWZpeDogJ3ByZWZpeCcsIHdpdGhTcGFyc2VWYWx1ZXM6IHRydWUsIHdpdGhNZXRhZGF0YTogdHJ1ZSB9KVxuICAgIGF3YWl0IHBjLkluZGV4KHNlcnZlcmxlc3NJbmRleE5hbWUpLnVwc2VydChyZWNvcmRzKTtcbiAgICBhd2FpdCBwYy5JbmRleChwb2RJbmRleE5hbWUpLnVwc2VydChyZWNvcmRzKTtcblxuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KHNlcnZlcmxlc3NJbmRleE5hbWUpO1xuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KHBvZEluZGV4TmFtZSk7XG5cbiAgICAvLyBRdWVyeSBpbmRleGVzIGJ5IHZlY3RvciB2YWx1ZXMgaW5kZXhlc1xuICAgIGNvbnN0IHF1ZXJ5UmVzdWx0U2VydmVybGVzcyA9IGF3YWl0IHBjLkluZGV4KHNlcnZlcmxlc3NJbmRleE5hbWUpLnF1ZXJ5KHsgdG9wSzogMSwgdmVjdG9yOiBbMC4yMzYsIDAuOTcxXSB9KTtcbiAgICBjb25zdCBxdWVyeVJlc3VsdFBvZCA9IGF3YWl0IHBjLkluZGV4KHBvZEluZGV4TmFtZSkucXVlcnkoeyB0b3BLOiAxLCB2ZWN0b3I6IFswLjIzNiwgMC45NzFdIH0pO1xuXG4gICAgYXdhaXQgc2xlZXAoNTAwMCk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihxdWVyeVJlc3VsdFNlcnZlcmxlc3MpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiUGluZWNvbmUiLCJnZW5lcmF0ZVJlY29yZHMiLCJyYW5kb21JbmRleE5hbWUiLCJzbGVlcCIsIndhaXRVbnRpbFJlYWR5IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInByb2Nlc3MiLCJlbnYiLCJQSU5FQ09ORV9BUElfS0VZIiwiRXJyb3IiLCJhcGlLZXkiLCJwYyIsInNlcnZlcmxlc3NJbmRleE5hbWUiLCJwb2RJbmRleE5hbWUiLCJjcmVhdGVJbmRleCIsIm5hbWUiLCJkaW1lbnNpb24iLCJtZXRyaWMiLCJzcGVjIiwic2VydmVybGVzcyIsImNsb3VkIiwicmVnaW9uIiwicG9kIiwiZW52aXJvbm1lbnQiLCJwb2RUeXBlIiwicmVjb3JkcyIsInF1YW50aXR5IiwicHJlZml4Iiwid2l0aFNwYXJzZVZhbHVlcyIsIndpdGhNZXRhZGF0YSIsIkluZGV4IiwidXBzZXJ0IiwicXVlcnlSZXN1bHRTZXJ2ZXJsZXNzIiwicXVlcnkiLCJ0b3BLIiwidmVjdG9yIiwicXVlcnlSZXN1bHRQb2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/createAndUpsert.ts\n'
        );

        /***/
      },
  };
  // load runtime
  var __webpack_require__ = require('../../webpack-api-runtime.js');
  __webpack_require__.C(exports);
  var __webpack_exec__ = (moduleId) =>
    __webpack_require__((__webpack_require__.s = moduleId));
  var __webpack_exports__ = __webpack_require__.X(
    0,
    ['vendor-chunks/next'],
    () =>
      __webpack_exec__(
        '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FcreateAndUpsert&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FcreateAndUpsert.ts&middlewareConfigBase64=e30%3D!'
      )
  );
  module.exports = __webpack_exports__;
})();
