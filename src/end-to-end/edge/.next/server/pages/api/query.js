'use strict';
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
  var exports = {};
  exports.id = 'pages/api/query';
  exports.ids = ['pages/api/query'];
  exports.modules = {
    /***/ '@pinecone-database/pinecone':
      /*!**********************************************!*\
  !*** external "@pinecone-database/pinecone" ***!
  \**********************************************/
      /***/ (module) => {
        module.exports = require('@pinecone-database/pinecone');

        /***/
      },

    /***/ 'next/dist/compiled/next-server/pages-api.runtime.dev.js':
      /*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
      /***/ (module) => {
        module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js');

        /***/
      },

    /***/ '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fquery&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fquery.ts&middlewareConfigBase64=e30%3D!':
      /*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fquery&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fquery.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ "(api)/./node_modules/next/dist/server/future/route-kind.js");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ "(api)/./node_modules/next/dist/build/templates/helpers.js");\n/* harmony import */ var _pages_api_query_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/query.ts */ "(api)/./pages/api/query.ts");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_query_ts__WEBPACK_IMPORTED_MODULE_3__, "default"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_query_ts__WEBPACK_IMPORTED_MODULE_3__, "config");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: "/api/query",\n        pathname: "/api/query",\n        // The following aren\'t used in production.\n        bundlePath: "",\n        filename: ""\n    },\n    userland: _pages_api_query_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnF1ZXJ5JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZxdWVyeS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNpRDtBQUNqRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL21pbmltYWwtcGluZWNvbmUtYXBwLz80ZThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvcXVlcnkudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9xdWVyeVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1ZXJ5XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fquery&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fquery.ts&middlewareConfigBase64=e30%3D!\n'
        );

        /***/
      },

    /***/ '(api)/./helpers/helpers.ts':
      /*!****************************!*\
  !*** ./helpers/helpers.ts ***!
  \****************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INDEX_NAME: () => (/* binding */ INDEX_NAME),\n/* harmony export */   assertWithRetries: () => (/* binding */ assertWithRetries),\n/* harmony export */   generateMetadata: () => (/* binding */ generateMetadata),\n/* harmony export */   generateRecords: () => (/* binding */ generateRecords),\n/* harmony export */   generateSparseValues: () => (/* binding */ generateSparseValues),\n/* harmony export */   randomIndexName: () => (/* binding */ randomIndexName),\n/* harmony export */   randomString: () => (/* binding */ randomString),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   waitUntilReady: () => (/* binding */ waitUntilReady),\n/* harmony export */   waitUntilRecordsReady: () => (/* binding */ waitUntilRecordsReady)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ "@pinecone-database/pinecone");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__);\n\nconst metadataMap = {\n    genre: [\n        "action",\n        "comedy",\n        "drama",\n        "horror",\n        "romance",\n        "thriller"\n    ],\n    year: [\n        2010,\n        2011,\n        2012,\n        2013,\n        2014,\n        2015\n    ]\n};\nconst metadataKeys = Object.keys(metadataMap);\nconst INDEX_NAME = "ts-integration";\nconst randomString = (length)=>{\n    const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n    let result = "";\n    for(let i = 0; i < length; i++){\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n    }\n    return result;\n};\nconst generateRecords = ({ dimension = 5, quantity = 3, prefix = null, withSparseValues = false, withMetadata = false })=>{\n    const records = [];\n    for(let i = 0; i < quantity; i++){\n        const values = [];\n        for(let j = 0; j < dimension; j++){\n            values.push(parseFloat(Math.random().toFixed(5)));\n        }\n        const id = prefix === null ? i.toString() : `${prefix}-${i}`;\n        let vector = {\n            id,\n            values\n        };\n        if (withSparseValues) {\n            vector = {\n                ...vector,\n                sparseValues: generateSparseValues(dimension)\n            };\n        }\n        if (withMetadata) {\n            vector = {\n                ...vector,\n                metadata: generateMetadata()\n            };\n        }\n        records.push(vector);\n    }\n    return records;\n};\nconst generateSparseValues = (dimension)=>{\n    const values = [];\n    const indices = [];\n    for(let j = 0; j < dimension; j++){\n        values.push(Math.random());\n        indices.push(j);\n    }\n    const sparseValues = {\n        indices,\n        values\n    };\n    return sparseValues;\n};\nconst generateMetadata = ()=>{\n    const metaKey = metadataKeys[Math.floor(Math.random() * metadataKeys.length)];\n    const metaValue = metadataMap[metaKey][Math.floor(Math.random() * metadataMap[metaKey].length)];\n    return {\n        [metaKey]: metaValue\n    };\n};\nconst randomIndexName = (testName)=>{\n    return `end-to-end-edge-${testName}-${randomString(8)}`.toLowerCase().slice(0, 45);\n};\nconst sleep = async (ms)=>{\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n};\nconst waitUntilReady = async (indexName)=>{\n    const p = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone();\n    const sleepIntervalMs = 1000;\n    let description = await p.describeIndex(indexName);\n    while(description.status?.state !== "Ready"){\n        await sleep(sleepIntervalMs);\n        description = await p.describeIndex(indexName);\n    }\n};\nconst waitUntilRecordsReady = async (index, namespace, recordIds)=>{\n    const sleepIntervalMs = 3000;\n    let indexStats = await index.describeIndexStats();\n    while(indexStats.namespaces && !indexStats.namespaces[namespace] && indexStats.namespaces[namespace]?.recordCount !== recordIds.length){\n        await sleep(sleepIntervalMs);\n        indexStats = await index.describeIndexStats();\n    }\n    // Sleeping one final time before returning for a bit more breathing room for freshness\n    await sleep(sleepIntervalMs);\n    return indexStats;\n};\nconst assertWithRetries = async (asyncFn, assertionsFn, maxRetries = 5, delay = 3000)=>{\n    let attempts = 0;\n    while(attempts < maxRetries){\n        try {\n            const result = await asyncFn();\n            assertionsFn(result);\n            return;\n        } catch (error) {\n            attempts++;\n            if (attempts <= maxRetries) {\n                await sleep(delay);\n                // Double the delay for exponential backoff\n                delay *= 2;\n            } else {\n                throw error;\n            }\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2hlbHBlcnMudHM/ZTEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIEluZGV4U3RhdHNEZXNjcmlwdGlvbixcbiAgUGluZWNvbmVSZWNvcmQsXG4gIFJlY29yZFNwYXJzZVZhbHVlcyxcbiAgUmVjb3JkTWV0YWRhdGEsXG59IGZyb20gJ0BwaW5lY29uZS1kYXRhYmFzZS9waW5lY29uZSc7XG5pbXBvcnQgeyBQaW5lY29uZSwgSW5kZXggfSBmcm9tICdAcGluZWNvbmUtZGF0YWJhc2UvcGluZWNvbmUnO1xuXG5jb25zdCBtZXRhZGF0YU1hcCA9IHtcbiAgZ2VucmU6IFsnYWN0aW9uJywgJ2NvbWVkeScsICdkcmFtYScsICdob3Jyb3InLCAncm9tYW5jZScsICd0aHJpbGxlciddLFxuICB5ZWFyOiBbMjAxMCwgMjAxMSwgMjAxMiwgMjAxMywgMjAxNCwgMjAxNV0sXG59O1xuY29uc3QgbWV0YWRhdGFLZXlzID0gT2JqZWN0LmtleXMobWV0YWRhdGFNYXApO1xuXG5leHBvcnQgY29uc3QgSU5ERVhfTkFNRSA9ICd0cy1pbnRlZ3JhdGlvbic7XG5cbmV4cG9ydCBjb25zdCByYW5kb21TdHJpbmcgPSAobGVuZ3RoKSA9PiB7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPVxuICAgICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gIGxldCByZXN1bHQgPSAnJztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzLmxlbmd0aCk7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KHJhbmRvbUluZGV4KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVSZWNvcmRzID0gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb24gPSA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5ID0gMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhTcGFyc2VWYWx1ZXMgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoTWV0YWRhdGEgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfToge1xuICBkaW1lbnNpb24/OiBudW1iZXI7XG4gIHF1YW50aXR5PzogbnVtYmVyO1xuICBwcmVmaXg/OiBzdHJpbmcgfCBudWxsO1xuICB3aXRoU3BhcnNlVmFsdWVzPzogYm9vbGVhbjtcbiAgd2l0aE1ldGFkYXRhPzogYm9vbGVhbjtcbn0pOiBQaW5lY29uZVJlY29yZFtdID0+IHtcbiAgY29uc3QgcmVjb3JkczogUGluZWNvbmVSZWNvcmRbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHF1YW50aXR5OyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZXM6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaW1lbnNpb247IGorKykge1xuICAgICAgdmFsdWVzLnB1c2gocGFyc2VGbG9hdChNYXRoLnJhbmRvbSgpLnRvRml4ZWQoNSkpKTtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBwcmVmaXggPT09IG51bGwgPyBpLnRvU3RyaW5nKCkgOiBgJHtwcmVmaXh9LSR7aX1gO1xuXG4gICAgbGV0IHZlY3RvcjogUGluZWNvbmVSZWNvcmQgPSB7XG4gICAgICBpZCxcbiAgICAgIHZhbHVlcyxcbiAgICB9O1xuICAgIGlmICh3aXRoU3BhcnNlVmFsdWVzKSB7XG4gICAgICB2ZWN0b3IgPSB7XG4gICAgICAgIC4uLnZlY3RvcixcbiAgICAgICAgc3BhcnNlVmFsdWVzOiBnZW5lcmF0ZVNwYXJzZVZhbHVlcyhkaW1lbnNpb24pLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdpdGhNZXRhZGF0YSkge1xuICAgICAgdmVjdG9yID0ge1xuICAgICAgICAuLi52ZWN0b3IsXG4gICAgICAgIG1ldGFkYXRhOiBnZW5lcmF0ZU1ldGFkYXRhKCksXG4gICAgICB9O1xuICAgIH1cbiAgICByZWNvcmRzLnB1c2godmVjdG9yKTtcbiAgfVxuICByZXR1cm4gcmVjb3Jkcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNwYXJzZVZhbHVlcyA9IChkaW1lbnNpb246IG51bWJlcik6IFJlY29yZFNwYXJzZVZhbHVlcyA9PiB7XG4gIGNvbnN0IHZhbHVlczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgaW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkaW1lbnNpb247IGorKykge1xuICAgIHZhbHVlcy5wdXNoKE1hdGgucmFuZG9tKCkpO1xuICAgIGluZGljZXMucHVzaChqKTtcbiAgfVxuICBjb25zdCBzcGFyc2VWYWx1ZXM6IFJlY29yZFNwYXJzZVZhbHVlcyA9IHsgaW5kaWNlcywgdmFsdWVzIH07XG4gIHJldHVybiBzcGFyc2VWYWx1ZXM7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNZXRhZGF0YSA9ICgpOiBSZWNvcmRNZXRhZGF0YSA9PiB7XG4gIGNvbnN0IG1ldGFLZXkgPSBtZXRhZGF0YUtleXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWV0YWRhdGFLZXlzLmxlbmd0aCldO1xuICBjb25zdCBtZXRhVmFsdWUgPVxuICAgIG1ldGFkYXRhTWFwW21ldGFLZXldW1xuICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWV0YWRhdGFNYXBbbWV0YUtleV0ubGVuZ3RoKVxuICAgICAgXTtcbiAgcmV0dXJuIHsgW21ldGFLZXldOiBtZXRhVmFsdWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCByYW5kb21JbmRleE5hbWUgPSAodGVzdE5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgZW5kLXRvLWVuZC1lZGdlLSR7dGVzdE5hbWV9LSR7cmFuZG9tU3RyaW5nKDgpfWBcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5zbGljZSgwLCA0NSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2xlZXAgPSBhc3luYyAobXMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgd2FpdFVudGlsUmVhZHkgPSBhc3luYyAoaW5kZXhOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcCA9IG5ldyBQaW5lY29uZSgpO1xuICBjb25zdCBzbGVlcEludGVydmFsTXMgPSAxMDAwO1xuXG4gIGxldCBkZXNjcmlwdGlvbiA9IGF3YWl0IHAuZGVzY3JpYmVJbmRleChpbmRleE5hbWUpO1xuICB3aGlsZSAoZGVzY3JpcHRpb24uc3RhdHVzPy5zdGF0ZSAhPT0gJ1JlYWR5Jykge1xuICAgIGF3YWl0IHNsZWVwKHNsZWVwSW50ZXJ2YWxNcyk7XG4gICAgZGVzY3JpcHRpb24gPSBhd2FpdCBwLmRlc2NyaWJlSW5kZXgoaW5kZXhOYW1lKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHdhaXRVbnRpbFJlY29yZHNSZWFkeSA9IGFzeW5jIChcbiAgaW5kZXg6IEluZGV4LFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgcmVjb3JkSWRzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxJbmRleFN0YXRzRGVzY3JpcHRpb24+ID0+IHtcbiAgY29uc3Qgc2xlZXBJbnRlcnZhbE1zID0gMzAwMDtcbiAgbGV0IGluZGV4U3RhdHMgPSBhd2FpdCBpbmRleC5kZXNjcmliZUluZGV4U3RhdHMoKTtcblxuICB3aGlsZSAoXG4gICAgaW5kZXhTdGF0cy5uYW1lc3BhY2VzICYmXG4gICAgIWluZGV4U3RhdHMubmFtZXNwYWNlc1tuYW1lc3BhY2VdICYmXG4gICAgaW5kZXhTdGF0cy5uYW1lc3BhY2VzW25hbWVzcGFjZV0/LnJlY29yZENvdW50ICE9PSByZWNvcmRJZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbE1zKTtcbiAgICBpbmRleFN0YXRzID0gYXdhaXQgaW5kZXguZGVzY3JpYmVJbmRleFN0YXRzKCk7XG4gIH1cblxuICAvLyBTbGVlcGluZyBvbmUgZmluYWwgdGltZSBiZWZvcmUgcmV0dXJuaW5nIGZvciBhIGJpdCBtb3JlIGJyZWF0aGluZyByb29tIGZvciBmcmVzaG5lc3NcbiAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbE1zKTtcblxuICByZXR1cm4gaW5kZXhTdGF0cztcbn07XG5cbnR5cGUgQXNzZXJ0aW9ucyA9IChyZXN1bHQ6IGFueSkgPT4gdm9pZDtcblxuZXhwb3J0IGNvbnN0IGFzc2VydFdpdGhSZXRyaWVzID0gYXN5bmMgKFxuICBhc3luY0ZuOiAoKSA9PiBQcm9taXNlPGFueT4sXG4gIGFzc2VydGlvbnNGbjogQXNzZXJ0aW9ucyxcbiAgbWF4UmV0cmllczogbnVtYmVyID0gNSxcbiAgZGVsYXk6IG51bWJlciA9IDMwMDBcbikgPT4ge1xuICBsZXQgYXR0ZW1wdHMgPSAwO1xuXG4gIHdoaWxlIChhdHRlbXB0cyA8IG1heFJldHJpZXMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXN5bmNGbigpO1xuICAgICAgYXNzZXJ0aW9uc0ZuKHJlc3VsdCk7XG4gICAgICByZXR1cm47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF0dGVtcHRzKys7XG4gICAgICBpZiAoYXR0ZW1wdHMgPD0gbWF4UmV0cmllcykge1xuICAgICAgICBhd2FpdCBzbGVlcChkZWxheSk7XG4gICAgICAgIC8vIERvdWJsZSB0aGUgZGVsYXkgZm9yIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgICAgZGVsYXkgKj0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJQaW5lY29uZSIsIm1ldGFkYXRhTWFwIiwiZ2VucmUiLCJ5ZWFyIiwibWV0YWRhdGFLZXlzIiwiT2JqZWN0Iiwia2V5cyIsIklOREVYX05BTUUiLCJyYW5kb21TdHJpbmciLCJsZW5ndGgiLCJjaGFyYWN0ZXJzIiwicmVzdWx0IiwiaSIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0IiwiZ2VuZXJhdGVSZWNvcmRzIiwiZGltZW5zaW9uIiwicXVhbnRpdHkiLCJwcmVmaXgiLCJ3aXRoU3BhcnNlVmFsdWVzIiwid2l0aE1ldGFkYXRhIiwicmVjb3JkcyIsInZhbHVlcyIsImoiLCJwdXNoIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJpZCIsInRvU3RyaW5nIiwidmVjdG9yIiwic3BhcnNlVmFsdWVzIiwiZ2VuZXJhdGVTcGFyc2VWYWx1ZXMiLCJtZXRhZGF0YSIsImdlbmVyYXRlTWV0YWRhdGEiLCJpbmRpY2VzIiwibWV0YUtleSIsIm1ldGFWYWx1ZSIsInJhbmRvbUluZGV4TmFtZSIsInRlc3ROYW1lIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ3YWl0VW50aWxSZWFkeSIsImluZGV4TmFtZSIsInAiLCJzbGVlcEludGVydmFsTXMiLCJkZXNjcmlwdGlvbiIsImRlc2NyaWJlSW5kZXgiLCJzdGF0dXMiLCJzdGF0ZSIsIndhaXRVbnRpbFJlY29yZHNSZWFkeSIsImluZGV4IiwibmFtZXNwYWNlIiwicmVjb3JkSWRzIiwiaW5kZXhTdGF0cyIsImRlc2NyaWJlSW5kZXhTdGF0cyIsIm5hbWVzcGFjZXMiLCJyZWNvcmRDb3VudCIsImFzc2VydFdpdGhSZXRyaWVzIiwiYXN5bmNGbiIsImFzc2VydGlvbnNGbiIsIm1heFJldHJpZXMiLCJkZWxheSIsImF0dGVtcHRzIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/helpers.ts\n'
        );

        /***/
      },

    /***/ '(api)/./pages/api/query.ts':
      /*!****************************!*\
  !*** ./pages/api/query.ts ***!
  \****************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ "@pinecone-database/pinecone");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _helpers_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/helpers */ "(api)/./helpers/helpers.ts");\n\n\nasync function handler(req, res) {\n    try {\n        if (!process.env.PINECONE_API_KEY) {\n            throw new Error("Pinecone API needed");\n        }\n        const apiKey = process.env.PINECONE_API_KEY;\n        const pc = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone({\n            apiKey: apiKey\n        });\n        const shouldCreate = req.query.create === "true";\n        const shouldSeed = req.query.seed === "true";\n        // Generate unique index names for testing or use existing ones\n        const serverlessIndexName = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.randomIndexName)("createServerlessIndex");\n        const podIndexName = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.randomIndexName)("createPodIndex");\n        if (shouldCreate) {\n            await pc.createIndex({\n                name: serverlessIndexName,\n                dimension: 2,\n                metric: "cosine",\n                spec: {\n                    serverless: {\n                        cloud: "aws",\n                        region: "us-west-2"\n                    }\n                },\n                waitUntilReady: true\n            });\n            await pc.createIndex({\n                name: podIndexName,\n                dimension: 2,\n                metric: "cosine",\n                spec: {\n                    pod: {\n                        environment: "us-west4-gcp",\n                        podType: "p2.x1"\n                    }\n                },\n                waitUntilReady: true\n            });\n        }\n        if (shouldSeed) {\n            const records = (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.generateRecords)({\n                dimension: 2,\n                quantity: 3,\n                prefix: "prefix",\n                withSparseValues: true,\n                withMetadata: true\n            });\n            await pc.Index(serverlessIndexName).upsert(records);\n            await pc.Index(podIndexName).upsert(records);\n        }\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.waitUntilReady)(serverlessIndexName);\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.waitUntilReady)(podIndexName);\n        // Perform a query on the indexes\n        const queryResultServerless = await pc.Index(serverlessIndexName).query({\n            topK: 1,\n            vector: [\n                0.236,\n                0.971\n            ]\n        });\n        const queryResultPod = await pc.Index(podIndexName).query({\n            topK: 1,\n            vector: [\n                0.236,\n                0.971\n            ]\n        });\n        await (0,_helpers_helpers__WEBPACK_IMPORTED_MODULE_1__.sleep)(5000);\n        res.status(200).json({\n            queryResultServerless,\n            queryResultPod\n        });\n    } catch (error) {\n        res.status(500).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcXVlcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUN1RDtBQUN5QztBQUVqRixlQUFlSyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLElBQUk7UUFDRixJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLEVBQUU7WUFDakMsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsU0FBU0osUUFBUUMsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDM0MsTUFBTUcsS0FBSyxJQUFJYixpRUFBUUEsQ0FBQztZQUFFWSxRQUFRQTtRQUFPO1FBRXpDLE1BQU1FLGVBQWVSLElBQUlTLEtBQUssQ0FBQ0MsTUFBTSxLQUFLO1FBQzFDLE1BQU1DLGFBQWFYLElBQUlTLEtBQUssQ0FBQ0csSUFBSSxLQUFLO1FBRXRDLCtEQUErRDtRQUMvRCxNQUFNQyxzQkFBc0JqQixpRUFBZUEsQ0FBQztRQUM1QyxNQUFNa0IsZUFBZWxCLGlFQUFlQSxDQUFDO1FBRXJDLElBQUlZLGNBQWM7WUFDaEIsTUFBTUQsR0FBR1EsV0FBVyxDQUFDO2dCQUNuQkMsTUFBTUg7Z0JBQ05JLFdBQVc7Z0JBQ1hDLFFBQVE7Z0JBQ1JDLE1BQU07b0JBQ0pDLFlBQVk7d0JBQ1ZDLE9BQU87d0JBQ1BDLFFBQVE7b0JBQ1Y7Z0JBQ0Y7Z0JBQ0F4QixnQkFBZ0I7WUFDbEI7WUFDQSxNQUFNUyxHQUFHUSxXQUFXLENBQUM7Z0JBQ25CQyxNQUFNRjtnQkFDTkcsV0FBVztnQkFDWEMsUUFBUTtnQkFDUkMsTUFBTTtvQkFDSkksS0FBSzt3QkFDSEMsYUFBYTt3QkFDYkMsU0FBUztvQkFDWDtnQkFDRjtnQkFDQTNCLGdCQUFnQjtZQUNsQjtRQUNGO1FBRUEsSUFBSWEsWUFBWTtZQUNkLE1BQU1lLFVBQVUvQixpRUFBZUEsQ0FBQztnQkFDOUJzQixXQUFXO2dCQUNYVSxVQUFVO2dCQUNWQyxRQUFRO2dCQUNSQyxrQkFBa0I7Z0JBQ2xCQyxjQUFjO1lBQ2hCO1lBRUEsTUFBTXZCLEdBQUd3QixLQUFLLENBQUNsQixxQkFBcUJtQixNQUFNLENBQUNOO1lBQzNDLE1BQU1uQixHQUFHd0IsS0FBSyxDQUFDakIsY0FBY2tCLE1BQU0sQ0FBQ047UUFDdEM7UUFFQSxNQUFNNUIsZ0VBQWNBLENBQUNlO1FBQ3JCLE1BQU1mLGdFQUFjQSxDQUFDZ0I7UUFFckIsaUNBQWlDO1FBQ2pDLE1BQU1tQix3QkFBd0IsTUFBTTFCLEdBQ2pDd0IsS0FBSyxDQUFDbEIscUJBQ05KLEtBQUssQ0FBQztZQUFFeUIsTUFBTTtZQUFHQyxRQUFRO2dCQUFDO2dCQUFPO2FBQU07UUFBQztRQUMzQyxNQUFNQyxpQkFBaUIsTUFBTTdCLEdBQzFCd0IsS0FBSyxDQUFDakIsY0FDTkwsS0FBSyxDQUFDO1lBQUV5QixNQUFNO1lBQUdDLFFBQVE7Z0JBQUM7Z0JBQU87YUFBTTtRQUFDO1FBRTNDLE1BQU10Qyx1REFBS0EsQ0FBQztRQUVaSSxJQUFJb0MsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFTDtZQUF1Qkc7UUFBZTtJQUMvRCxFQUFFLE9BQU9HLE9BQU87UUFDZHRDLElBQUlvQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU9BLE1BQU1DLE9BQU87UUFBQztJQUM5QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluaW1hbC1waW5lY29uZS1hcHAvLi9wYWdlcy9hcGkvcXVlcnkudHM/ZTAxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IFBpbmVjb25lIH0gZnJvbSAnQHBpbmVjb25lLWRhdGFiYXNlL3BpbmVjb25lJztcbmltcG9ydCB7IGdlbmVyYXRlUmVjb3JkcywgcmFuZG9tSW5kZXhOYW1lLCBzbGVlcCwgd2FpdFVudGlsUmVhZHkgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFwcm9jZXNzLmVudi5QSU5FQ09ORV9BUElfS0VZKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmVjb25lIEFQSSBuZWVkZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5QSU5FQ09ORV9BUElfS0VZO1xuICAgIGNvbnN0IHBjID0gbmV3IFBpbmVjb25lKHsgYXBpS2V5OiBhcGlLZXkgfSk7XG5cbiAgICBjb25zdCBzaG91bGRDcmVhdGUgPSByZXEucXVlcnkuY3JlYXRlID09PSAndHJ1ZSc7XG4gICAgY29uc3Qgc2hvdWxkU2VlZCA9IHJlcS5xdWVyeS5zZWVkID09PSAndHJ1ZSc7XG5cbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgaW5kZXggbmFtZXMgZm9yIHRlc3Rpbmcgb3IgdXNlIGV4aXN0aW5nIG9uZXNcbiAgICBjb25zdCBzZXJ2ZXJsZXNzSW5kZXhOYW1lID0gcmFuZG9tSW5kZXhOYW1lKCdjcmVhdGVTZXJ2ZXJsZXNzSW5kZXgnKTtcbiAgICBjb25zdCBwb2RJbmRleE5hbWUgPSByYW5kb21JbmRleE5hbWUoJ2NyZWF0ZVBvZEluZGV4Jyk7XG5cbiAgICBpZiAoc2hvdWxkQ3JlYXRlKSB7XG4gICAgICBhd2FpdCBwYy5jcmVhdGVJbmRleCh7XG4gICAgICAgIG5hbWU6IHNlcnZlcmxlc3NJbmRleE5hbWUsXG4gICAgICAgIGRpbWVuc2lvbjogMixcbiAgICAgICAgbWV0cmljOiAnY29zaW5lJyxcbiAgICAgICAgc3BlYzoge1xuICAgICAgICAgIHNlcnZlcmxlc3M6IHtcbiAgICAgICAgICAgIGNsb3VkOiAnYXdzJyxcbiAgICAgICAgICAgIHJlZ2lvbjogJ3VzLXdlc3QtMidcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHdhaXRVbnRpbFJlYWR5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHBjLmNyZWF0ZUluZGV4KHtcbiAgICAgICAgbmFtZTogcG9kSW5kZXhOYW1lLFxuICAgICAgICBkaW1lbnNpb246IDIsXG4gICAgICAgIG1ldHJpYzogJ2Nvc2luZScsXG4gICAgICAgIHNwZWM6IHtcbiAgICAgICAgICBwb2Q6IHtcbiAgICAgICAgICAgIGVudmlyb25tZW50OiAndXMtd2VzdDQtZ2NwJyxcbiAgICAgICAgICAgIHBvZFR5cGU6ICdwMi54MSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHdhaXRVbnRpbFJlYWR5OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkU2VlZCkge1xuICAgICAgY29uc3QgcmVjb3JkcyA9IGdlbmVyYXRlUmVjb3Jkcyh7XG4gICAgICAgIGRpbWVuc2lvbjogMixcbiAgICAgICAgcXVhbnRpdHk6IDMsXG4gICAgICAgIHByZWZpeDogJ3ByZWZpeCcsXG4gICAgICAgIHdpdGhTcGFyc2VWYWx1ZXM6IHRydWUsXG4gICAgICAgIHdpdGhNZXRhZGF0YTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHBjLkluZGV4KHNlcnZlcmxlc3NJbmRleE5hbWUpLnVwc2VydChyZWNvcmRzKTtcbiAgICAgIGF3YWl0IHBjLkluZGV4KHBvZEluZGV4TmFtZSkudXBzZXJ0KHJlY29yZHMpO1xuICAgIH1cblxuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KHNlcnZlcmxlc3NJbmRleE5hbWUpO1xuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KHBvZEluZGV4TmFtZSk7XG5cbiAgICAvLyBQZXJmb3JtIGEgcXVlcnkgb24gdGhlIGluZGV4ZXNcbiAgICBjb25zdCBxdWVyeVJlc3VsdFNlcnZlcmxlc3MgPSBhd2FpdCBwY1xuICAgICAgLkluZGV4KHNlcnZlcmxlc3NJbmRleE5hbWUpXG4gICAgICAucXVlcnkoeyB0b3BLOiAxLCB2ZWN0b3I6IFswLjIzNiwgMC45NzFdIH0pO1xuICAgIGNvbnN0IHF1ZXJ5UmVzdWx0UG9kID0gYXdhaXQgcGNcbiAgICAgIC5JbmRleChwb2RJbmRleE5hbWUpXG4gICAgICAucXVlcnkoeyB0b3BLOiAxLCB2ZWN0b3I6IFswLjIzNiwgMC45NzFdIH0pO1xuXG4gICAgYXdhaXQgc2xlZXAoNTAwMCk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHF1ZXJ5UmVzdWx0U2VydmVybGVzcywgcXVlcnlSZXN1bHRQb2QgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlBpbmVjb25lIiwiZ2VuZXJhdGVSZWNvcmRzIiwicmFuZG9tSW5kZXhOYW1lIiwic2xlZXAiLCJ3YWl0VW50aWxSZWFkeSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJwcm9jZXNzIiwiZW52IiwiUElORUNPTkVfQVBJX0tFWSIsIkVycm9yIiwiYXBpS2V5IiwicGMiLCJzaG91bGRDcmVhdGUiLCJxdWVyeSIsImNyZWF0ZSIsInNob3VsZFNlZWQiLCJzZWVkIiwic2VydmVybGVzc0luZGV4TmFtZSIsInBvZEluZGV4TmFtZSIsImNyZWF0ZUluZGV4IiwibmFtZSIsImRpbWVuc2lvbiIsIm1ldHJpYyIsInNwZWMiLCJzZXJ2ZXJsZXNzIiwiY2xvdWQiLCJyZWdpb24iLCJwb2QiLCJlbnZpcm9ubWVudCIsInBvZFR5cGUiLCJyZWNvcmRzIiwicXVhbnRpdHkiLCJwcmVmaXgiLCJ3aXRoU3BhcnNlVmFsdWVzIiwid2l0aE1ldGFkYXRhIiwiSW5kZXgiLCJ1cHNlcnQiLCJxdWVyeVJlc3VsdFNlcnZlcmxlc3MiLCJ0b3BLIiwidmVjdG9yIiwicXVlcnlSZXN1bHRQb2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/query.ts\n'
        );

        /***/
      },
  };
  // load runtime
  var __webpack_require__ = require('../../webpack-api-runtime.js');
  __webpack_require__.C(exports);
  var __webpack_exec__ = (moduleId) =>
    __webpack_require__((__webpack_require__.s = moduleId));
  var __webpack_exports__ = __webpack_require__.X(
    0,
    ['vendor-chunks/next'],
    () =>
      __webpack_exec__(
        '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fquery&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fquery.ts&middlewareConfigBase64=e30%3D!'
      )
  );
  module.exports = __webpack_exports__;
})();
